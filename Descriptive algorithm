{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "<b>Vinicius F. Caridá</b>"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "<h1 style=\"text-align:center\"> Machine Learning Hands-On </h1>"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "<h3 class=\"title\"> Links úteis: </h3>\n",
    "<br>\n",
    "<ol>\n",
    "  <li class=\"item\"><a href = \"http://scikit-learn.org/stable/\"> Sklearn</a>: principal biblioteca de aprendizado de máquina para python.</li>\n",
    "  <li class=\"item\"><a href = \"http://pandas.pydata.org/pandas-docs/stable/\"> Pandas</a>: (quase) tudo o que você precisa para trabalhar rapidamente com tabelas</li>\n",
    "  <li class=\"item\"><a href = \"https://docs.scipy.org/doc/numpy/reference/index.html\"> Numpy</a>: funções matemáticas estão aqui</li>\n",
    "  <li class=\"item\"><a href = \"https://matplotlib.org/contents.html\"> Matplotlib</a>: te ajuda a plotar!</li>\n",
    "  <li class=\"item\"><a href = \"https://seaborn.pydata.org/api.html\"> Seaborn</a>: Deixa a matplotlib bonita (contém plots mais bem estruturados)</li>\n",
    "</ol>"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "<b>Trabalharemos com as seguintes bases de dados:</b>\n",
    "- iris.csv\n",
    "- lenses_final.csv\n",
    "- car.data\n",
    "- horse-colic.data\n",
    "- PETR4.SA.csv\n",
    "- Boston.csv\n",
    "- artificial_data\n",
    "\n",
    "<b>Testem a leitura de um dos arquivos deste curso</b>\n",
    "- Acessem a documentação da função <i>read_csv</i> do <i>pandas</i>: https://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_csv.html"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 1,
   "metadata": {},
   "outputs": [],
   "source": [
    "import numpy as np \n",
    "import pandas as pd\n",
    "%matplotlib inline\n",
    "import matplotlib.pyplot as plt\n",
    "import seaborn as sns\n",
    "sns.set_style('whitegrid', {\"axes.grid\" : False})\n",
    "sns.set_context('notebook')\n",
    "np.random.seed(42)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "metadata": {},
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "C:\\Users\\vinicius\\Anaconda3\\lib\\site-packages\\ipykernel_launcher.py:4: FutureWarning: read_table is deprecated, use read_csv instead, passing sep='\\t'.\n",
      "  after removing the cwd from sys.path.\n"
     ]
    }
   ],
   "source": [
    "iris            = pd.read_csv(\"./data/iris.csv\")\n",
    "lenses          = pd.read_csv(\"./data/lenses_final.csv\")\n",
    "car             = pd.read_csv(\"./data/cars.csv\")\n",
    "horsecolic      = pd.read_table(\"./data/horse-colic.data\")"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "<h2 style=\"text-align:center; margin:40px\"> Árvores de Decisão </h2>\n",
    "\n",
    "<img src=\"img/titanic.png\" style=\"width:75%\"/>\n",
    "\n",
    "O algoritmo de <b>árvores de decisão</b> busca construir árvores que separam o espaço de variáveis em <b>conjuntos disjuntos e homogêneos</b>.\n",
    "\n",
    "<h3 style=\"text-align:center; margin:40px\"> Como encontrar as melhores quebras? </h3>\n",
    "\n",
    "<h3> Entropia: </h3>\n",
    "A <b>entropia</b> mede a quantidade média de informação produzida por uma variável aleatória. No caso de uma <b>variável binária</b>, a fórmula para o cálculo da entropia é dada por:\n",
    "\n",
    "$$ H(Y) = - P_0 \\log_{2}{P_0} - P_1 \\log_{2}{P_1}$$\n",
    "\n",
    "<p style=\"text-align:center\"> Onde $P_i$ significa $P(Y = i)$ </p>\n",
    "\n",
    "![](img/entropia.png)\n",
    "\n",
    "O algoritmo inicia em um nó <b>raiz com todas as observações</b>, e então, recursivamente, divide as observações de cada nó em <b>dois grupos</b>, de forma que a quebra escolhida <b>maximize o ganho de informação</b>:\n",
    "\n",
    "$$ GI(X_p, X_e, X_d) = H(X_p) - \\frac{|X_e|\\,H(X_e)+|X_d|\\,H(X_d)}{|X_e| + |X_d|} $$\n",
    "\n",
    "<p style=\"text-align:center\"> Onde: <br/>\n",
    "$X_p$ é o conjunto de todas as observações no nó pai <br/>\n",
    "$X_e$ é o conjunto de todas as observações no nó filho esquerdo <br/>\n",
    "$X_d$ é o conjunto de todas as observações no nó filho direito <br/>\n",
    "</p>\n",
    "\n",
    "Para realizar uma predição, basta \"descer\" pela árvore até chegar em uma folha, e então a nova observação será marcada como sendo da <b>classe mais frequente na folha</b>.\n",
    "\n",
    "<h3 style=\"text-align:center; margin:40px\"> E se quisermos fazer regressão? </h3>\n",
    "\n",
    "<b>A ideia é a mesma!</b>. No lugar da entropia utilizaremos a <b>variância</b>, e para fazer predições, basta \"descer\" pela árvore até chegar em uma folha, e o valor da nova observação será a <b>média dos valores na folha</b>."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "<h3> Scikit-Learn </h3>\n",
    "Agora, vamos rodar os códigos abaixo que usam uma implementação do algoritmo disponível no pacote <i>sklearn</i> (Scikit-Learn). Iremos ver como a escolha dos parâmetros é <b>muito</b> importante para o resultado do algoritmo."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "<matplotlib.collections.PathCollection at 0x1efed1b7ac8>"
      ]
     },
     "execution_count": 3,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "baseDados = pd.read_csv('data/base_regressao_logistica.csv')\n",
    "plt.scatter(baseDados.X1[baseDados.Y == 0], baseDados.X2[baseDados.Y == 0], c = 'darkgreen', marker = '^')\n",
    "plt.scatter(baseDados.X1[baseDados.Y == 1], baseDados.X2[baseDados.Y == 1], c = 'black', marker = ',')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "metadata": {},
   "outputs": [],
   "source": [
    "from sklearn.tree import DecisionTreeClassifier"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "DecisionTreeClassifier(class_weight=None, criterion='entropy', max_depth=2,\n",
       "            max_features=None, max_leaf_nodes=None,\n",
       "            min_impurity_decrease=0.0, min_impurity_split=None,\n",
       "            min_samples_leaf=1, min_samples_split=2,\n",
       "            min_weight_fraction_leaf=0.0, presort=False, random_state=None,\n",
       "            splitter='best')"
      ]
     },
     "execution_count": 5,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "DT = DecisionTreeClassifier(criterion=\"entropy\", max_depth=2)\n",
    "X = baseDados.loc[:, baseDados.columns != 'Y']\n",
    "Y = baseDados.Y\n",
    "DT.fit(X,Y)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "<matplotlib.collections.PathCollection at 0x1efed521d68>"
      ]
     },
     "execution_count": 6,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "x_min, x_max = baseDados.X1.min() - .1, baseDados.X1.max() + .1\n",
    "y_min, y_max = baseDados.X2.min() - .1, baseDados.X2.max() + .1\n",
    "h = .005\n",
    "xx, yy = np.meshgrid(np.arange(x_min, x_max, h), np.arange(y_min, y_max, h))\n",
    "Z = DT.predict(np.c_[xx.ravel(), yy.ravel()])\n",
    "\n",
    "Z = Z.reshape(xx.shape)\n",
    "plt.figure()\n",
    "plt.pcolormesh(xx, yy, Z, cmap = plt.cm.Accent)\n",
    "\n",
    "pred = DT.predict(X)\n",
    "plt.scatter(baseDados.X1[Y == 0], baseDados.X2[Y == 0], c = 'darkgreen', marker = '^')\n",
    "plt.scatter(baseDados.X1[Y == 1], baseDados.X2[Y == 1], c = 'black', marker = ',')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "metadata": {},
   "outputs": [
    {
     "ename": "InvocationException",
     "evalue": "GraphViz's executables not found",
     "output_type": "error",
     "traceback": [
      "\u001b[1;31m---------------------------------------------------------------------------\u001b[0m",
      "\u001b[1;31mInvocationException\u001b[0m                       Traceback (most recent call last)",
      "\u001b[1;32m<ipython-input-7-4f7ae31e53b9>\u001b[0m in \u001b[0;36m<module>\u001b[1;34m\u001b[0m\n\u001b[0;32m      8\u001b[0m                 special_characters=True)\n\u001b[0;32m      9\u001b[0m \u001b[0mgraph\u001b[0m \u001b[1;33m=\u001b[0m \u001b[0mpydotplus\u001b[0m\u001b[1;33m.\u001b[0m\u001b[0mgraph_from_dot_data\u001b[0m\u001b[1;33m(\u001b[0m\u001b[0mdot_data\u001b[0m\u001b[1;33m.\u001b[0m\u001b[0mgetvalue\u001b[0m\u001b[1;33m(\u001b[0m\u001b[1;33m)\u001b[0m\u001b[1;33m)\u001b[0m\u001b[1;33m\u001b[0m\u001b[1;33m\u001b[0m\u001b[0m\n\u001b[1;32m---> 10\u001b[1;33m \u001b[0mImage\u001b[0m\u001b[1;33m(\u001b[0m\u001b[0mgraph\u001b[0m\u001b[1;33m.\u001b[0m\u001b[0mcreate_png\u001b[0m\u001b[1;33m(\u001b[0m\u001b[1;33m)\u001b[0m\u001b[1;33m)\u001b[0m\u001b[1;33m\u001b[0m\u001b[1;33m\u001b[0m\u001b[0m\n\u001b[0m",
      "\u001b[1;32m~\\Anaconda3\\lib\\site-packages\\pydotplus\\graphviz.py\u001b[0m in \u001b[0;36m<lambda>\u001b[1;34m(f, prog)\u001b[0m\n\u001b[0;32m   1795\u001b[0m             self.__setattr__(\n\u001b[0;32m   1796\u001b[0m                 \u001b[1;34m'create_'\u001b[0m \u001b[1;33m+\u001b[0m \u001b[0mfrmt\u001b[0m\u001b[1;33m,\u001b[0m\u001b[1;33m\u001b[0m\u001b[1;33m\u001b[0m\u001b[0m\n\u001b[1;32m-> 1797\u001b[1;33m                 \u001b[1;32mlambda\u001b[0m \u001b[0mf\u001b[0m\u001b[1;33m=\u001b[0m\u001b[0mfrmt\u001b[0m\u001b[1;33m,\u001b[0m \u001b[0mprog\u001b[0m\u001b[1;33m=\u001b[0m\u001b[0mself\u001b[0m\u001b[1;33m.\u001b[0m\u001b[0mprog\u001b[0m\u001b[1;33m:\u001b[0m \u001b[0mself\u001b[0m\u001b[1;33m.\u001b[0m\u001b[0mcreate\u001b[0m\u001b[1;33m(\u001b[0m\u001b[0mformat\u001b[0m\u001b[1;33m=\u001b[0m\u001b[0mf\u001b[0m\u001b[1;33m,\u001b[0m \u001b[0mprog\u001b[0m\u001b[1;33m=\u001b[0m\u001b[0mprog\u001b[0m\u001b[1;33m)\u001b[0m\u001b[1;33m\u001b[0m\u001b[1;33m\u001b[0m\u001b[0m\n\u001b[0m\u001b[0;32m   1798\u001b[0m             )\n\u001b[0;32m   1799\u001b[0m             \u001b[0mf\u001b[0m \u001b[1;33m=\u001b[0m \u001b[0mself\u001b[0m\u001b[1;33m.\u001b[0m\u001b[0m__dict__\u001b[0m\u001b[1;33m[\u001b[0m\u001b[1;34m'create_'\u001b[0m \u001b[1;33m+\u001b[0m \u001b[0mfrmt\u001b[0m\u001b[1;33m]\u001b[0m\u001b[1;33m\u001b[0m\u001b[1;33m\u001b[0m\u001b[0m\n",
      "\u001b[1;32m~\\Anaconda3\\lib\\site-packages\\pydotplus\\graphviz.py\u001b[0m in \u001b[0;36mcreate\u001b[1;34m(self, prog, format)\u001b[0m\n\u001b[0;32m   1958\u001b[0m             \u001b[1;32mif\u001b[0m \u001b[0mself\u001b[0m\u001b[1;33m.\u001b[0m\u001b[0mprogs\u001b[0m \u001b[1;32mis\u001b[0m \u001b[1;32mNone\u001b[0m\u001b[1;33m:\u001b[0m\u001b[1;33m\u001b[0m\u001b[1;33m\u001b[0m\u001b[0m\n\u001b[0;32m   1959\u001b[0m                 raise InvocationException(\n\u001b[1;32m-> 1960\u001b[1;33m                     'GraphViz\\'s executables not found')\n\u001b[0m\u001b[0;32m   1961\u001b[0m \u001b[1;33m\u001b[0m\u001b[0m\n\u001b[0;32m   1962\u001b[0m         \u001b[1;32mif\u001b[0m \u001b[0mprog\u001b[0m \u001b[1;32mnot\u001b[0m \u001b[1;32min\u001b[0m \u001b[0mself\u001b[0m\u001b[1;33m.\u001b[0m\u001b[0mprogs\u001b[0m\u001b[1;33m:\u001b[0m\u001b[1;33m\u001b[0m\u001b[1;33m\u001b[0m\u001b[0m\n",
      "\u001b[1;31mInvocationException\u001b[0m: GraphViz's executables not found"
     ]
    }
   ],
   "source": [
    "from sklearn.externals.six import StringIO  \n",
    "from IPython.display import Image  \n",
    "from sklearn.tree import export_graphviz\n",
    "import pydotplus\n",
    "dot_data = StringIO()\n",
    "export_graphviz(DT, out_file=dot_data,  \n",
    "                filled=True, rounded=True,\n",
    "                special_characters=True)\n",
    "graph = pydotplus.graph_from_dot_data(dot_data.getvalue())  \n",
    "Image(graph.create_png())"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.7.3"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 1
}

{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 1,
   "metadata": {},
   "outputs": [],
   "source": [
    "import numpy as np\n",
    "import pandas as pd\n",
    "import seaborn as sb\n",
    "import matplotlib.pyplot as plt\n",
    "import sklearn\n",
    "\n",
    "from pandas import Series, DataFrame\n",
    "from pylab import rcParams\n",
    "from sklearn import preprocessing\n",
    "from sklearn.linear_model import LogisticRegression\n",
    "from sklearn.model_selection import train_test_split\n",
    "from sklearn import metrics \n",
    "from sklearn.metrics import classification_report"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "metadata": {},
   "outputs": [],
   "source": [
    "%matplotlib inline\n",
    "rcParams['figure.figsize'] = 10, 8\n",
    "sb.set_style('whitegrid')"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "A primeira coisa que vamos fazer é ler o conjunto de dados usando a função read_csv() dos Pandas. \n",
    "Colocaremos esses dados em um DataFrame do Pandas, chamado \"titanic\", e nomearemos cada uma das colunas."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>PassengerId</th>\n",
       "      <th>Survived</th>\n",
       "      <th>Pclass</th>\n",
       "      <th>Name</th>\n",
       "      <th>Sex</th>\n",
       "      <th>Age</th>\n",
       "      <th>SibSp</th>\n",
       "      <th>Parch</th>\n",
       "      <th>Ticket</th>\n",
       "      <th>Fare</th>\n",
       "      <th>Cabin</th>\n",
       "      <th>Embarked</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>3</td>\n",
       "      <td>Braund, Mr. Owen Harris</td>\n",
       "      <td>male</td>\n",
       "      <td>22.0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>A/5 21171</td>\n",
       "      <td>7.2500</td>\n",
       "      <td>NaN</td>\n",
       "      <td>S</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>2</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>Cumings, Mrs. John Bradley (Florence Briggs Th...</td>\n",
       "      <td>female</td>\n",
       "      <td>38.0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>PC 17599</td>\n",
       "      <td>71.2833</td>\n",
       "      <td>C85</td>\n",
       "      <td>C</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>3</td>\n",
       "      <td>1</td>\n",
       "      <td>3</td>\n",
       "      <td>Heikkinen, Miss. Laina</td>\n",
       "      <td>female</td>\n",
       "      <td>26.0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>STON/O2. 3101282</td>\n",
       "      <td>7.9250</td>\n",
       "      <td>NaN</td>\n",
       "      <td>S</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>4</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>Futrelle, Mrs. Jacques Heath (Lily May Peel)</td>\n",
       "      <td>female</td>\n",
       "      <td>35.0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>113803</td>\n",
       "      <td>53.1000</td>\n",
       "      <td>C123</td>\n",
       "      <td>S</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>5</td>\n",
       "      <td>0</td>\n",
       "      <td>3</td>\n",
       "      <td>Allen, Mr. William Henry</td>\n",
       "      <td>male</td>\n",
       "      <td>35.0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>373450</td>\n",
       "      <td>8.0500</td>\n",
       "      <td>NaN</td>\n",
       "      <td>S</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "   PassengerId  Survived  Pclass  \\\n",
       "0            1         0       3   \n",
       "1            2         1       1   \n",
       "2            3         1       3   \n",
       "3            4         1       1   \n",
       "4            5         0       3   \n",
       "\n",
       "                                                Name     Sex   Age  SibSp  \\\n",
       "0                            Braund, Mr. Owen Harris    male  22.0      1   \n",
       "1  Cumings, Mrs. John Bradley (Florence Briggs Th...  female  38.0      1   \n",
       "2                             Heikkinen, Miss. Laina  female  26.0      0   \n",
       "3       Futrelle, Mrs. Jacques Heath (Lily May Peel)  female  35.0      1   \n",
       "4                           Allen, Mr. William Henry    male  35.0      0   \n",
       "\n",
       "   Parch            Ticket     Fare Cabin Embarked  \n",
       "0      0         A/5 21171   7.2500   NaN        S  \n",
       "1      0          PC 17599  71.2833   C85        C  \n",
       "2      0  STON/O2. 3101282   7.9250   NaN        S  \n",
       "3      0            113803  53.1000  C123        S  \n",
       "4      0            373450   8.0500   NaN        S  "
      ]
     },
     "execution_count": 3,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "url = 'https://raw.githubusercontent.com/BigDataGal/Python-for-Data-Science/master/titanic-train.csv'\n",
    "titanic = pd.read_csv(url)\n",
    "titanic.columns = ['PassengerId','Survived','Pclass','Name','Sex','Age','SibSp','Parch','Ticket','Fare','Cabin','Embarked']\n",
    "titanic.head()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "VARIABLE DESCRIPTIONS\n",
    "Survived - Survival (0 = No; 1 = Yes);\n",
    "Pclass - Passenger Class (1 = 1st; 2 = 2nd; 3 = 3rd);\n",
    "Name - Name;\n",
    "Sex - Sex;\n",
    "Age - Age;\n",
    "SibSp - Number of Siblings/Spouses Aboard;\n",
    "Parch - Number of Parents/Children Aboard;\n",
    "Ticket - Ticket Number;\n",
    "Fare - Passenger Fare (British pound);\n",
    "Cabin - Cabin;\n",
    "Embarked - Port of Embarkation (C = Cherbourg; Q = Queenstown; S = Southampton);"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Como estamos construindo um modelo para prever a sobrevivência de passageiros do Titanic, nosso alvo será a variável \"Survived\" do dataframe titanic.\n",
    "Para ter certeza de que é uma variável binária, vamos usar a função countplot () do Seaborn."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "<matplotlib.axes._subplots.AxesSubplot at 0x169c2756668>"
      ]
     },
     "execution_count": 4,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "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jIyMbh8eHs6UKVPS09OT4eHhvbZPnjx5TPsGADhYvOJfWb7mNa/JySefnG9+85s55phjMn369NFLi6/ke9/7Xr7+9a8nSQ4//PA0Go0cf/zx2bRpU5Jk/fr16evry9y5c7Nhw4Y0m81s3749zWbzFVfHAAAORmP6DNlVV12Vhx9+OEcddVRarVYajUa+853vvOzz3/Oe9+Rzn/tczj777Lz00ku55JJLcswxx+Tyyy/PqlWrMnv27CxYsCCdnZ3p6+tLf39/ms1mBgYG9tkvBgBwoBhTkD355JO577770tExtq8tO+KII/LVr371H7bfeuut/7Bt6dKlWbp06Zj2CwBwMBpTYc2cOXOvz4ABALDvjGmFbMeOHTn11FMzc+bMJHnVS5YAAIzdmILsy1/+crvnAACYsMYUZHffffc/bLvwwgv3+TAAABPRmILsyCOPTJK0Wq389Kc/TbPZbOtQAAATyZiCbPHixXs9/shHPtKWYQAAJqIxBdmvf/3r0f/euXNnduzY0baBAAAmmjEF2d9/YWt3d3cuvvjitg0EADDRjCnI1qxZkxdeeCG/+93vMn36dLc3AgDYh8b0xbD33ntvFi9enNWrV6e/vz/f//732z0XAMCEMaYVsm9961u56667MmnSpAwNDeXDH/5w3v/+97d7NgCACWFMK2SNRiOTJk1KkvT09KS7u7utQwEATCRjWiGbMWNGVq5cmb6+vjzxxBOZMWNGu+cCAJgwxrRCdsYZZ+Q1r3lNHnnkkdx11105++yz2z0XAMCEMaYgW7lyZd797ndnYGAgd9xxR1auXNnuuQAAJowxBVlXV1eOPfbYJMnRRx+djo4xvQwAgDEY02fIpk2bllWrVuXEE0/MU089laOOOqrdcwEATBhjWupasWJFent78/DDD6e3tzcrVqxo91wAABPGmFbIuru7c84557R5FACAicmHwQAAigkyAIBiggwAoJggAwAoJsgAAIoJMgCAYoIMAKCYIAMAKCbIAACKCTIAgGKCDACgmCADACgmyAAAigkyAIBiggwAoJggAwAoJsgAAIoJMgCAYoIMAKCYIAMAKCbIAACKCTIAgGKCDACgmCADACgmyAAAigkyAIBiggwAoJggAwAoJsgAAIoJMgCAYoIMAKCYIAMAKCbIAACKCTIAgGKCDACgmCADACgmyAAAigkyAIBiggwA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GRkZ0/PKg6ynpyfDw8Ojj5vN5svGWPK/q2gAAAeT8kuWc+fOzfr165MkW7ZsyXHHHVc8EQDA+Gq0Wq1W5QB/+yvLn//852m1WrnmmmtyzDHHVI4EADCuyoMMAGCiK79kCQAw0QkyAIBiggwAoJgg46DTbDYzMDCQ/v7+LFmyJNu2baseCTiIPPnkk1myZEn1GBxkyr+HDPa1v78d15YtW7Jy5crceOON1WMBB4Gbb74599xzTw4//PDqUTjIWCHjoON2XEC7zJgxI9ddd131GByEBBkHnZe7HRfAf2rBggWveDcZ+HcJMg46/+rtuACgmiDjoON2XAAcaCwbcNB597vfnY0bN2bx4sWjt+MCgP2ZWycBABRzyRIAoJggAwAoJsgAAIoJMgCAYoIMAKCYIAMOaDfddFPOOeecnHvuuTnvvPP+o1tlffGLX8z27dv/7dd/8pOfzKZNm/7t1wMTl+8hAw5Yv/zlL/PAAw/k29/+dhqNRgYHB7N8+fLcc889/9b+Lr300n08IcDYWCEDDli9vb3Zvn177rjjjjz33HOZM2dO7rjjjixZsiTPPPNMkuTb3/52rrvuujz77LM57bTTsmTJktx88835n//5n/ztaxivuuqq/PCHPxx93emnn55nn302SXLvvffm6quvzq5du3LRRRdlyZIlWbJkSZ5++ukkyW233ZYPfOADOf/887Nt27aa/xHAAU+QAQes3t7e3HjjjfnRj36U/v7+vPe9782DDz74ss/fuXNnvvGNb+T888/PG97whjz++OPZvXt3Nm/enFNPPXX0eQsXLsz3vve9JMndd9+dM844I6tXr85b3/rWrFmzJl/4whdy5ZVXZteuXbnllluydu3a3HDDDXnxxRfb/jsDByeXLIED1rZt29LT05MVK1YkSX784x/nox/9aI488sjR5/z9zUimT5+eQw89NElyxhln5O67787OnTvzzne+c68b0L/vfe/LmWeemUWLFmVoaCjHHXdcfv7zn+exxx7LvffemyT585//nF/96lc59thjR/d5wgkntP13Bg5OVsiAA9bTTz+dK6+8MiMjI0mSWbNmZfLkyZk6dWp27tyZJPnpT386+vyOjv875b3tbW/L4OBg7rzzzixcuHCv/fb09OT444/PihUrcvrppydJZs+enXPOOSdr1qzJV77ylZx22mk5+uij88tf/jJ//etfs2fPngwODrb7VwYOUlbIgAPWe97znjzzzDNZtGhRjjjiiLRarVx88cU55JBD8vnPfz6ve93rctRRR/3T1zYajSxYsCCPPPJIZs6c+Q8/X7RoUT7ykY+M3pz+ggsuyKWXXpq1a9dmaGgoF154YXp7e/OJT3wiixcvTm9vbw4//PC2/r7AwcvNxQEAirlkCQBQTJABABQTZAAAxQQZAEAxQQYAUEyQAQAUE2QAAMX+HyZGTw6YoVb3AAAAAElFTkSuQmCC\n",
      "text/plain": [
       "<Figure size 720x576 with 1 Axes>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "sb.countplot(x='Survived',data=titanic, palette='hls')"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Ok, agora veja que a variavel Survived é binária"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Checking for missing values\n",
    "É fácil checar missing values usando método isnull() com o método sum(), o número retornado condiz com a quantidade True para o teste, ou seja, quantidade de valores nulos nas variaveis"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "PassengerId      0\n",
       "Survived         0\n",
       "Pclass           0\n",
       "Name             0\n",
       "Sex              0\n",
       "Age            177\n",
       "SibSp            0\n",
       "Parch            0\n",
       "Ticket           0\n",
       "Fare             0\n",
       "Cabin          687\n",
       "Embarked         2\n",
       "dtype: int64"
      ]
     },
     "execution_count": 5,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "titanic.isnull().sum()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "<class 'pandas.core.frame.DataFrame'>\n",
      "RangeIndex: 891 entries, 0 to 890\n",
      "Data columns (total 12 columns):\n",
      "PassengerId    891 non-null int64\n",
      "Survived       891 non-null int64\n",
      "Pclass         891 non-null int64\n",
      "Name           891 non-null object\n",
      "Sex            891 non-null object\n",
      "Age            714 non-null float64\n",
      "SibSp          891 non-null int64\n",
      "Parch          891 non-null int64\n",
      "Ticket         891 non-null object\n",
      "Fare           891 non-null float64\n",
      "Cabin          204 non-null object\n",
      "Embarked       889 non-null object\n",
      "dtypes: float64(2), int64(5), object(5)\n",
      "memory usage: 83.6+ KB\n"
     ]
    }
   ],
   "source": [
    "titanic.info()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Ok, então existem 891 linhas no dataframe. Cabin é quase todo composto por missing values, então podemos eliminar essa variável completamente! Mas e quanto à idade? A age parece um preditor relevante para a sobrevivência, certo? Nós queremos manter as variáveis, mas tem 177 missing values. Precisamos encontrar uma maneira de nos aproximarmos desses valores em falta!"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Lidando com missing values\n",
    "Removendo missing values\n",
    "Vamos além dos missing values... Vamos descartar todas as variáveis que não são relevantes para a predição de Survived."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Survived</th>\n",
       "      <th>Pclass</th>\n",
       "      <th>Sex</th>\n",
       "      <th>Age</th>\n",
       "      <th>SibSp</th>\n",
       "      <th>Parch</th>\n",
       "      <th>Fare</th>\n",
       "      <th>Embarked</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>0</td>\n",
       "      <td>3</td>\n",
       "      <td>male</td>\n",
       "      <td>22.0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>7.2500</td>\n",
       "      <td>S</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>female</td>\n",
       "      <td>38.0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>71.2833</td>\n",
       "      <td>C</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>1</td>\n",
       "      <td>3</td>\n",
       "      <td>female</td>\n",
       "      <td>26.0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>7.9250</td>\n",
       "      <td>S</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>female</td>\n",
       "      <td>35.0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>53.1000</td>\n",
       "      <td>S</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>0</td>\n",
       "      <td>3</td>\n",
       "      <td>male</td>\n",
       "      <td>35.0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>8.0500</td>\n",
       "      <td>S</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "   Survived  Pclass     Sex   Age  SibSp  Parch     Fare Embarked\n",
       "0         0       3    male  22.0      1      0   7.2500        S\n",
       "1         1       1  female  38.0      1      0  71.2833        C\n",
       "2         1       3  female  26.0      0      0   7.9250        S\n",
       "3         1       1  female  35.0      1      0  53.1000        S\n",
       "4         0       3    male  35.0      0      0   8.0500        S"
      ]
     },
     "execution_count": 7,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#E quanto ao nome de uma pessoa, número do bilhete e número de identificação do passageiro? Eles são irrelavantes para prever a capacidade de sobrevivência. E, como você se lembra, a variável cabine é quase todoa com missing values!!\n",
    "titanic_data = titanic.drop(['PassengerId','Name','Ticket','Cabin'], 1)\n",
    "titanic_data.head()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Agora, o dataframe foi reduzido para apenas variáveis relevantes, mas agora precisamos lidar com os valores ausentes na variável age."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Imputing missing values\n",
    "Vejamos como a idade do passageiro está relacionada à sua classe como passageiro no barco."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 8,
   "metadata": {},
   "outputs": [],
   "source": [
    "#sb.boxplot(x='Pclass', y='Age', data=titanic_data, palette='hls')"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Falando mais ou menos, poderíamos dizer que quanto mais jovem é um passageiro, mais provável é que ele esteja na 3ª classe. Quanto mais velho for um passageiro, maior a probabilidade de estarem na 1ª classe. Portanto, há um relacionamento frouxo entre essas variáveis. Então, vamos escrever uma função que se aproxime da idade dos passageiros, com base em sua classe. Na caixa, parece que a idade média dos passageiros de 1ª classe é de cerca de 37 anos, os passageiros de 2ª classe são 29 e os passageiros de 3ª classe são 24.\n",
    "\n",
    "Então, vamos escrever uma função que encontre cada valor nulo na variável Age e, para cada nulo, verifique o valor da Pclass e atribua um valor de idade de acordo com a idade média dos passageiros nessa classe."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "metadata": {},
   "outputs": [],
   "source": [
    "def age_approx(cols):\n",
    "    Age = cols[0]\n",
    "    Pclass = cols[1]\n",
    "    \n",
    "    if pd.isnull(Age):\n",
    "        if Pclass == 1:\n",
    "            return 37\n",
    "        elif Pclass == 2:\n",
    "            return 29\n",
    "        else:\n",
    "            return 24\n",
    "    else:\n",
    "        return Age"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Após definir a função, vamos executar apenas para os valores nulos de Age"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "metadata": {},
   "outputs": [],
   "source": [
    "titanic_data['Age'] = titanic_data[['Age', 'Pclass']].apply(age_approx, axis=1)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 11,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "Survived    0\n",
       "Pclass      0\n",
       "Sex         0\n",
       "Age         0\n",
       "SibSp       0\n",
       "Parch       0\n",
       "Fare        0\n",
       "Embarked    2\n",
       "dtype: int64"
      ]
     },
     "execution_count": 11,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "titanic_data.isnull().sum()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Existem ainda 2 valores nulos na variável Embarked. Podemos eliminar esses dois registros sem perder muitas informações importantes do nosso conjunto de dados, então faremos isso."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 12,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "Survived    0\n",
       "Pclass      0\n",
       "Sex         0\n",
       "Age         0\n",
       "SibSp       0\n",
       "Parch       0\n",
       "Fare        0\n",
       "Embarked    0\n",
       "dtype: int64"
      ]
     },
     "execution_count": 12,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "titanic_data.dropna(inplace=True)\n",
    "titanic_data.isnull().sum()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Converting categorical variables to a dummy indicators"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 13,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>male</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "   male\n",
       "0     1\n",
       "1     0\n",
       "2     0\n",
       "3     0\n",
       "4     1"
      ]
     },
     "execution_count": 13,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "gender = pd.get_dummies(titanic_data['Sex'],drop_first=True)\n",
    "gender.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 14,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Q</th>\n",
       "      <th>S</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "   Q  S\n",
       "0  0  1\n",
       "1  0  0\n",
       "2  0  1\n",
       "3  0  1\n",
       "4  0  1"
      ]
     },
     "execution_count": 14,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "embark_location = pd.get_dummies(titanic_data['Embarked'],drop_first=True)\n",
    "embark_location.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 15,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Survived</th>\n",
       "      <th>Pclass</th>\n",
       "      <th>Sex</th>\n",
       "      <th>Age</th>\n",
       "      <th>SibSp</th>\n",
       "      <th>Parch</th>\n",
       "      <th>Fare</th>\n",
       "      <th>Embarked</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>0</td>\n",
       "      <td>3</td>\n",
       "      <td>male</td>\n",
       "      <td>22.0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>7.2500</td>\n",
       "      <td>S</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>female</td>\n",
       "      <td>38.0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>71.2833</td>\n",
       "      <td>C</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>1</td>\n",
       "      <td>3</td>\n",
       "      <td>female</td>\n",
       "      <td>26.0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>7.9250</td>\n",
       "      <td>S</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>female</td>\n",
       "      <td>35.0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>53.1000</td>\n",
       "      <td>S</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>0</td>\n",
       "      <td>3</td>\n",
       "      <td>male</td>\n",
       "      <td>35.0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>8.0500</td>\n",
       "      <td>S</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "   Survived  Pclass     Sex   Age  SibSp  Parch     Fare Embarked\n",
       "0         0       3    male  22.0      1      0   7.2500        S\n",
       "1         1       1  female  38.0      1      0  71.2833        C\n",
       "2         1       3  female  26.0      0      0   7.9250        S\n",
       "3         1       1  female  35.0      1      0  53.1000        S\n",
       "4         0       3    male  35.0      0      0   8.0500        S"
      ]
     },
     "execution_count": 15,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#Ainda não alteramos os dados! Vamos alterar em seguida.\n",
    "titanic_data.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 16,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Survived</th>\n",
       "      <th>Pclass</th>\n",
       "      <th>Age</th>\n",
       "      <th>SibSp</th>\n",
       "      <th>Parch</th>\n",
       "      <th>Fare</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>0</td>\n",
       "      <td>3</td>\n",
       "      <td>22.0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>7.2500</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>38.0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>71.2833</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>1</td>\n",
       "      <td>3</td>\n",
       "      <td>26.0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>7.9250</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>35.0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>53.1000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>0</td>\n",
       "      <td>3</td>\n",
       "      <td>35.0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>8.0500</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "   Survived  Pclass   Age  SibSp  Parch     Fare\n",
       "0         0       3  22.0      1      0   7.2500\n",
       "1         1       1  38.0      1      0  71.2833\n",
       "2         1       3  26.0      0      0   7.9250\n",
       "3         1       1  35.0      1      0  53.1000\n",
       "4         0       3  35.0      0      0   8.0500"
      ]
     },
     "execution_count": 16,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "titanic_data.drop(['Sex', 'Embarked'],axis=1,inplace=True)\n",
    "titanic_data.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 17,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Survived</th>\n",
       "      <th>Pclass</th>\n",
       "      <th>Age</th>\n",
       "      <th>SibSp</th>\n",
       "      <th>Parch</th>\n",
       "      <th>Fare</th>\n",
       "      <th>male</th>\n",
       "      <th>Q</th>\n",
       "      <th>S</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>0</td>\n",
       "      <td>3</td>\n",
       "      <td>22.0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>7.2500</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>38.0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>71.2833</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>1</td>\n",
       "      <td>3</td>\n",
       "      <td>26.0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>7.9250</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>35.0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>53.1000</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>0</td>\n",
       "      <td>3</td>\n",
       "      <td>35.0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>8.0500</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "   Survived  Pclass   Age  SibSp  Parch     Fare  male  Q  S\n",
       "0         0       3  22.0      1      0   7.2500     1  0  1\n",
       "1         1       1  38.0      1      0  71.2833     0  0  0\n",
       "2         1       3  26.0      0      0   7.9250     0  0  1\n",
       "3         1       1  35.0      1      0  53.1000     0  0  1\n",
       "4         0       3  35.0      0      0   8.0500     1  0  1"
      ]
     },
     "execution_count": 17,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "titanic_dmy = pd.concat([titanic_data,gender,embark_location],axis=1)\n",
    "titanic_dmy.head()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Agora temos um conjunto de dados com todas as variáveis no formato correto!"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Validando independencia entre as variáveis"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 18,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "<matplotlib.axes._subplots.AxesSubplot at 0x169c2aa6358>"
      ]
     },
     "execution_count": 18,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "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6NFDgwcP1uLFi7VmzRpFRESoTZs2GjdunCW5Pfn444+VmJiolJQUjRkzRr1799a2bds0adIkVatWTbVr11blypU1bdo0LVy4UGvXrpXD4VD37t01aNAgv+ct67MmSVlZWXr77bdVUFCg8ePHq1WrVqpfv74WL16s3r1768orr9TSpUsVHR2t1atXa8OGDcrLy9Px48c1YsQI3XbbbX5/X//92fr73/8uSSooKNBTTz2lqKioUj8zbdu21eTJk3/x+Xv22Wd15MgRnTlzRrNmzVLDhg39/j7OV1JSogkTJujgwYM6fvy4OnbsqJEjR+rhhx/WiRMndOLECb3wwgv6v//7P3366acyxmjw4MG6/fbb/Z519erVeu+991RQUKDc3FwNGjRIGzZs0DfffKOxY8fq4MGDeuedd1RcXKy4uDg988wzpb7fDj8fZVmzZo369u2rxo0bS5IcDodGjBihpKQkFRQUKCYmJsAJvXOh3wMIAiZAtm/fbh5++GFz8803m9tuu82sX7/eDBw40OzZs8cYY8ySJUvMnDlzzL59+0y7du1MYWGhMcaYBx980HzyySemsLDQdO/e3RQVFbm/b/HixeaZZ54xxhgzbNgws2vXLjN9+nSzePFiY4wx3333nUlJSTGnTp0yXbt2NYWFhcbpdJo77rjDbNq06aLf06ZNm8yNN95oBg4caFJTU82QIUPMv/71L3PnnXe639eiRYvM9u3b3Zk3btzoPvfmzZvN4MGDjTHGdOzY0eTk5JjCwkKzdOlSY4wxvXv3Nlu2bDHGGLN48WJTVFR00ZnLa/To0ea9994zxhiTkpJitm7danr16mV2795tjDFm1qxZZty4ceabb74xKSkppri42JSUlJjU1FSzd+9ev+c1xvNnbc6cOebxxx83xhize/du06tXL2OMMT///LP5+9//bu655x7Ttm1bk56ebgoLC82qVavM4MGDTUlJicnNzTW33HKLX/4/XOiztWjRInPw4EFjjDFz5841zz333C9+Zi70+VuzZo0xxpg5c+aYF1980fL3cL59+/aZa6+91gwcONB9++yzz8zy5cuNMcYUFBSYtm3bGmOMGTdunJk/f74xxph//etfZuTIke6vueuuu8zJkyf9nn/VqlXmvvvuM8YYs3btWtOnTx/jcrnMRx99ZO6//37zzDPPmJKSEmOMMUOGDDGf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\n",
      "text/plain": [
       "<Figure size 720x576 with 2 Axes>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "sb.heatmap(titanic_dmy.corr())  "
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Fare e Pclass não sao independentes uma com a outra, entao vou excluí-las."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 19,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Survived</th>\n",
       "      <th>Age</th>\n",
       "      <th>SibSp</th>\n",
       "      <th>Parch</th>\n",
       "      <th>Fare</th>\n",
       "      <th>male</th>\n",
       "      <th>Q</th>\n",
       "      <th>S</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>0</td>\n",
       "      <td>22.0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>7.2500</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>1</td>\n",
       "      <td>38.0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>71.2833</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>1</td>\n",
       "      <td>26.0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>7.9250</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>1</td>\n",
       "      <td>35.0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>53.1000</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>0</td>\n",
       "      <td>35.0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>8.0500</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "   Survived   Age  SibSp  Parch     Fare  male  Q  S\n",
       "0         0  22.0      1      0   7.2500     1  0  1\n",
       "1         1  38.0      1      0  71.2833     0  0  0\n",
       "2         1  26.0      0      0   7.9250     0  0  1\n",
       "3         1  35.0      1      0  53.1000     0  0  1\n",
       "4         0  35.0      0      0   8.0500     1  0  1"
      ]
     },
     "execution_count": 19,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "titanic_dmy.drop(['Pclass'],axis=1,inplace=True)\n",
    "titanic_dmy.head()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Agora vamos lá!!\n",
    "1º: Separar o conjunto em variavel resposta e variaveis de treinamento"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 20,
   "metadata": {},
   "outputs": [],
   "source": [
    "X = titanic_dmy.iloc[:,[1,2,3,4,5,6,7]].values\n",
    "y = titanic_dmy.iloc[:,0].values"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Agora dividir em treino e teste (teste com 30%)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 21,
   "metadata": {},
   "outputs": [],
   "source": [
    "#ToDo parte B"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Criando o modelo"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 22,
   "metadata": {},
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "C:\\Users\\vinicius\\Anaconda3\\lib\\site-packages\\sklearn\\linear_model\\logistic.py:433: FutureWarning: Default solver will be changed to 'lbfgs' in 0.22. Specify a solver to silence this warning.\n",
      "  FutureWarning)\n"
     ]
    },
    {
     "data": {
      "text/plain": [
       "LogisticRegression(C=1.0, class_weight=None, dual=False, fit_intercept=True,\n",
       "          intercept_scaling=1, max_iter=100, multi_class='warn',\n",
       "          n_jobs=None, penalty='l2', random_state=None, solver='warn',\n",
       "          tol=0.0001, verbose=0, warm_start=False)"
      ]
     },
     "execution_count": 22,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "LogReg = #ToDo parte A\n",
    "LogReg.#ToDo parte A"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Testando o modelo"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 23,
   "metadata": {},
   "outputs": [],
   "source": [
    "y_pred = LogReg.predict(X) # mudar essa linha no ToDo parte B"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Avaliando o modelo\n",
    "analisando o rotulo real com o rotulo predito"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 24,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "array([[474,  75],\n",
       "       [112, 228]], dtype=int64)"
      ]
     },
     "execution_count": 24,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "from sklearn.metrics import confusion_matrix\n",
    "confusion_matrix = confusion_matrix(y, y_pred) # mudar essa linha no ToDo parte B\n",
    "confusion_matrix"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 25,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "              precision    recall  f1-score   support\n",
      "\n",
      "           0       0.81      0.86      0.84       549\n",
      "           1       0.75      0.67      0.71       340\n",
      "\n",
      "   micro avg       0.79      0.79      0.79       889\n",
      "   macro avg       0.78      0.77      0.77       889\n",
      "weighted avg       0.79      0.79      0.79       889\n",
      "\n"
     ]
    }
   ],
   "source": [
    "print(classification_report(y, y_pred)) # mudar essa linha no ToDo parte B"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.7.3"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}
